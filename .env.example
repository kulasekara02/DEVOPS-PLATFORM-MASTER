# =============================================================================
# DEVOPS-PLATFORM-MASTER Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit the actual .env file to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
NODE_ENV=development
LOG_LEVEL=debug
TZ=UTC

# -----------------------------------------------------------------------------
# API Service Configuration
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8080
API_PREFIX=/api/v1

# CORS settings (comma-separated origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------------------------------------------------------
# Frontend Configuration
# -----------------------------------------------------------------------------
VITE_API_URL=http://localhost:8080
VITE_APP_NAME=DevOps Platform Master
VITE_APP_VERSION=1.0.0

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=devops
POSTGRES_PASSWORD=devops_secret_change_me
POSTGRES_DB=devops_platform

# Full connection string (alternative to individual settings)
DATABASE_URL=postgresql://devops:devops_secret_change_me@postgres:5432/devops_platform?sslmode=disable

# Connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Full connection string
REDIS_URL=redis://redis:6379/0

# -----------------------------------------------------------------------------
# Worker Service Configuration
# -----------------------------------------------------------------------------
WORKER_CONCURRENCY=5
WORKER_POLL_INTERVAL_MS=5000
JOB_TIMEOUT_MS=30000

# -----------------------------------------------------------------------------
# Observability - OpenTelemetry
# -----------------------------------------------------------------------------
OTEL_ENABLED=true
OTEL_SERVICE_NAME=devops-platform-api
OTEL_EXPORTER_OTLP_ENDPOINT=http://jaeger:4318
OTEL_EXPORTER_OTLP_PROTOCOL=http/protobuf
OTEL_TRACES_SAMPLER=parentbased_traceidratio
OTEL_TRACES_SAMPLER_ARG=1.0

# -----------------------------------------------------------------------------
# Observability - Prometheus
# -----------------------------------------------------------------------------
PROMETHEUS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# -----------------------------------------------------------------------------
# Observability - Logging
# -----------------------------------------------------------------------------
LOG_FORMAT=json
LOG_TIMESTAMP=true
LOG_COLORIZE=false

# Loki configuration
LOKI_URL=http://loki:3100

# -----------------------------------------------------------------------------
# Security Settings
# -----------------------------------------------------------------------------
# JWT configuration (generate a strong secret for production!)
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# API key for service-to-service communication
API_KEY=your-api-key-change-in-production

# Encryption key for sensitive data (32 bytes for AES-256)
ENCRYPTION_KEY=your-32-byte-encryption-key-here

# -----------------------------------------------------------------------------
# External Services (optional)
# -----------------------------------------------------------------------------
# GitHub (for CI/CD integration)
GITHUB_TOKEN=
GITHUB_REPOSITORY=

# Container Registry
REGISTRY_URL=ghcr.io
REGISTRY_USERNAME=
REGISTRY_PASSWORD=

# Slack notifications (optional)
SLACK_WEBHOOK_URL=

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
FEATURE_DARK_MODE=true
FEATURE_ANALYTICS=false
FEATURE_EXPERIMENTAL=false

# -----------------------------------------------------------------------------
# Development Only
# -----------------------------------------------------------------------------
# Enable debug endpoints (disable in production!)
DEBUG_ENDPOINTS=true

# Hot reload
HOT_RELOAD=true

# Seed database with sample data
SEED_DATABASE=true
